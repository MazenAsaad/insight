# Music Mastery
___Empowering Artists to Find Their Niche___

The project was completed as part of the Insight Data Science Fellowship program (Summer 2020, New York, NY).

By Mazen Asaad, PhD

# Table of Contents
1. [Introduction](README.md#introduction)
2. [Approach](README.md#approach)
3. [Requirements](README.md#requirements)
4. [Repository Contents](README.md#repository-contents)
5. [Setup](README.md#setup)

# Introduction
The goal of this project was to provide a machine learning model and analytic dashboard to enable aspiring musicians to determine which audio features of songs drive popularity within their market segment, as well as to identify which songs in their library are underperforming expectations and should be the focus of future promotional resources.

# Approach
Artist, album, and track information, as well as audio features for each track, were taken from the Spotify API (https://developer.spotify.com/console). These features were processed and engineered to build a machine learning model predicting track popularity for different market segments of related artists. The information from this model was then displayed as a dashboard via a Streamlit web app. The final product was deployed on Amazon Web Services (AWS EC2) for remote hosting.

Given a "seed artist", a network of related artists (the market segment) was generated by looking at the 20 related artists for the musician in question, and each of their 20 related artists in turn (i.e. going out 2 degrees in the network). These artists were used to pull a list of thousands of recommended tracks from the Spotify API to serve as a training set (excluding any tracks from the original artist). A random forest classification model was trained to identify the features of the most popular songs in that network, and this model was then applied to the original artist's library. In this way, songs that should be more popular than they are (false negatives in the model) were recommended as having the highest potential return on investment for bringing in new listeners. Additionally, the features driving popularity in the model, which varies between market segments, were communicated to the artist as knowing this can inform future artistic decisions. Finally, the program explored all previous collaborations of the 20 most related artists that haven't already worked with the seed artist, as these may be viable people to contact in a mutually beneficial effort to increase the exposure of both parties.

# Requirements
The following languages and packages were used in this project:
* python 3.8.3
* numpy 1.18.5
* pandas 1.0.3
* matplotlib 3.2.2
* seaborn 0.10.1
* scikit-learn 0.22.1
* [spotipy](https://spotipy.readthedocs.io/en/2.13.0/) 2.13.0 (for interfacing with the Spotify API)
* [streamlit](https://docs.streamlit.io/en/stable/api.html) 0.62.1 (for building a front-end dashboard)

# Repository Contents
* __Data/__ - Contains sample data pulled from the Spotify API used for model testing and validation at the time of this project's creation. Data pulled from the API at a future date may not exactly match the results stored here.
* __spotify_tools.py__ - Contains all of the relevant functions for pulling data from the Spotify API (via the spotipy package).
* __model_tools.py__ - Contains all of the relevant functions for generating and testing the machine learning models.
* __plot_tools.py__ - Contains all of the relevant functions for generating important visualizations.
* __save_cv_results.py__ - A script used for generating cross-validation results to compare model performance on sample data.
* __Model_Exploration.ipynb__ - A Jupyter notebook containing sample visualizations and analyses used to compare different models and hyperparameters.
* __MusicMastery.py__ - The main script for implementing the dashboard with Streamlit.

# Setup
As this project leverages data from Spotify, a client id and client secret are required as provided by the Spotify developer API (https://developer.spotify.com/dashboard). These details should be stored in a file called `spotify_credentials.py` in the same directory as `spotify_tools.py`. It should only contain the values for these two variables, as such:
```
client_id = 'YourClientIDStringGoesHere'
client_secret = 'YourClientSecretStringGoesHere'
```

(Instructions to come...)